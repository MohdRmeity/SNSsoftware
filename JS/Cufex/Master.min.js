function SetDefaults(){$(".HiddenMenuOpen").val()==0?(CloseMenu(!1),setTimeout(function(){$(".DivMain").css({opacity:1})},300)):$(".DivMain").css({opacity:1});SNSFunctions();SetMenuFunctionality();SetScrolling();$(document).unbind("click").on("click",function(n){$(".ActionHiddenButtons").slideUp();$(".ProfileData").slideUp();!$(n.target).closest(".chosen-container").length>0&&$(".NewHeaderRecord").addClass("u-overflowHidden");!$(n.target).closest(".widthMenu").length>0&&!$(".MenuPin").hasClass("Pinned")&&!MenuClosed&&CloseMenu(!0)});$(window).resize(function(){setOnCufex_Resize()}).scroll(function(){}).keydown(function(n){var t=n.keyCode||n.which;t==9&&$(n.target).is(".InsideMenuDiv *")&&n.preventDefault()});$().KeyPressfunctionsOverride();setOnCufex_Resize()}function SNSFunctions(){if(NumberOfRecordsInPage=$("#NumberOfRecordsInPage").val(),NumberOfRecordsInPageDetails=NumberOfRecordsInPage,$("#SortBy").length>0&&(SortBy=$("#SortBy").val(),SortByDetails=SortBy),SetGridActions(),$(".btnQuickEntry").click(function(){$(".AddDetailsBtn").hide();$(".ErrorIcon").remove();$(".MyRecordID").val(0);$(".FloatRecordField, .Details_FloatRecordField").find("input:text").each(function(){var n=$(this);n.attr("data-value")!=null?n.val(n.attr("data-value")):n.val("");n.attr("data-disabled")!=null?n.prop("disabled",!0):n.prop("disabled",!1)});$(".FloatRecordField").find("input:password").val("");$(".FloatRecordField").find("input:password").removeClass("Error");$(".FloatRecordField").find("input:checkbox").prop("false");$(".FloatRecordField").find("select").val("").trigger("chosen:updated");$(".FloatRecordField").find("select").prop("disabled",!1).trigger("chosen:updated");AutoPostBack("");$(".New_Modify_Record_PopUp").fadeIn(function(){setOnCufex_Resize();$(".AddDetailsBtn").show()})}),$(".btnAddNew").click(function(){$(".MyRecordID").val(0);$(".MyDetailRecordID").val(0);NumberOfRecordsInPageDetails=$("#NumberOfRecordsInPage").val();$("#SortBy").length>0&&(SortByDetails=$("#SortBy").val());CurrentPageDetails=0;MaxPagesDetails=1;SearchQueryDetails="";$(".DetailsGridView").find(".SortUp,.SortDown").removeClass("Active");$(".HeaderGridView,.DetailsGridView,.btnQuickEntry,.ActionsDetails").hide();$(this).hide();$(this).parent("td").prev("td").hide();$(".NewRecord").fadeIn();$(".btnSave,.BackHeader,.NewDetailRecord").show();$(this).parent("td").next("td").show();$(".MainPageDesc").html("Header");$(".btnNew,.btnDeleteDetail").show();$(".BackDetail").hide();$(".VerticalSep").hide();$(".MainPageDetailTitle").html($(".MainPageDetailTitle").data("text"));$(window).width()>550&&($(".btnDelete").parent("td").css("padding-right","0px"),$(".ActionHiddenButtons").css("right","0"));$(".NewHeaderRecord, .NewDetailRecord").find("input:text").each(function(){var n=$(this);n.attr("data-value")!=null?n.val(n.attr("data-value")):n.val("");n.attr("data-disabled")!=null?n.prop("disabled",!0):n.prop("disabled",!1)});$(".NewDetailRecord, .NewHeaderRecord").find("select").val("").trigger("chosen:updated");$(".NewHeaderRecord").find("select").prop("disabled",!1).trigger("chosen:updated");setOnCufex_Resize()}),$(".BackHeader").click(function(){$(".MyRecordID").val(0);$(".MyDetailRecordID").val(0);NumberOfRecordsInPageDetails=$("#NumberOfRecordsInPage").val();$("#SortBy").length>0&&(SortByDetails=$("#SortBy").val());CurrentPageDetails=0;MaxPagesDetails=1;SearchQueryDetails="";$(".DetailsGridView").find(".SortUp,.SortDown").removeClass("Active");$(".HeaderGridView").fadeIn();$(".HeaderGridView").mCustomScrollbar("scrollTo","first");$(".HeaderGridView").mCustomScrollbar("update");$(".BackHeader").hide();$(".btnAddNew").parent("td").next("td").hide();$(".NewRecord, .btnSave, .BackHeader").hide();$(".btnAddNew,.btnQuickEntry").show();$(".btnAddNew").parent("td").prev("td").show();$(".MainPageDesc").html($(".MainPageDesc").data("text"));$(window).width()<=550&&($(".btnDelete").parent("td").css("padding-right","10px"),$(".btnDelete").parent("td").css("margin-bottom","10px"),$(".btnActions").parent("td").css("padding-right","0px"));setTimeout(function(){InitColResizable()},300)}),$(".btnNew").click(function(){$(".MyDetailRecordID").val(0);$(".DetailsGridView,.btnDeleteDetail").hide();$(this).hide();$(this).parent("td").prev("td").hide();$(this).parent("td").next("td").show();$(".NewDetailRecord").fadeIn();$(".BackDetail,.VerticalSep").show();$(".MainPageDetailTitle").html("New Record");$(".NewDetailRecord").find("input:text").each(function(){var n=$(this);n.attr("data-value")!=null?n.val(n.attr("data-value")):n.val("");n.attr("data-disabled")!=null?n.prop("disabled",!0):n.prop("disabled",!1)});$(".NewDetailRecord").find("select").val("").trigger("chosen:updated");$(".NewDetailRecord").find("select").prop("disabled",!1).trigger("chosen:updated");var n=$(".NewDetailRecord").find(".InputDetailsSku"),t=$(".NewHeaderRecord").find(".InputFacility").val(),i=$(".NewHeaderRecord").find(".InputStorerKey").val();GetSkuDropDown(n,t,i,"");setOnCufex_Resize()}),$(".BackDetail").click(function(){$(".MyDetailRecordID").val(0);$(".DetailsGridView").fadeIn();$(".DetailsGridView").mCustomScrollbar("scrollTo","first");$(".DetailsGridView").mCustomScrollbar("update");$(".btnNew,.btnDeleteDetail").show();$(this).hide();$(".NewDetailRecord,.VerticalSep").hide();$(".MainPageDetailTitle").html($(".MainPageDetailTitle").data("text"));$(".DetailsGridView").find(".GridContainer").data("resizemode")=="fit"&&setOnCufex_Resize();setTimeout(function(){InitColResizable()},300);SetMasterResize()}),$(".NewHeaderRecord").resizable({handles:"s"}),$(".MainPageTitle").attr("data-id")=="Warehouse_PO"||$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"){$(".NewHeaderRecord").find(".InputFacility").on("change",function(){var n=$(".NewDetailRecord").find(".InputDetailsSku"),t=$(this).val(),i=$(".NewHeaderRecord").find(".InputStorerKey").val();GetSkuDropDown(n,t,i,"")});$(".NewHeaderRecord").find(".InputStorerKey").on("change",function(){var n=$(".NewDetailRecord").find(".InputDetailsSku"),t=$(".NewHeaderRecord").find(".InputFacility").val(),i=$(this).val();GetSkuDropDown(n,t,i,"")});$(".RecordHeader").find(".InputFacility").on("change",function(){var n=$(".RecordsContainer_Inside").find(".InputDetailsSku"),t=$(this).val(),i=$(".RecordHeader").find(".InputStorerKey").val();GetSkuDropDown(n,t,i,"")});$(".RecordHeader").find(".InputStorerKey").on("change",function(){var n=$(".RecordsContainer_Inside").find(".InputDetailsSku"),t=$(".RecordHeader").find(".InputFacility").val(),i=$(this).val();GetSkuDropDown(n,t,i,"")})}$(".NewDetailRecord").find(".InputAutoPostBackDetails").on("change",function(){AutoPostBackDetails($(".NewDetailRecord"),$(this).chosen().val())});$(".CloseACPopup").click(function(){$(".Adjust_Columns_PopUp").fadeOut()});$(".MainPageTitle").length>0&&($(".MainPageTitle").attr("data-id")=="PROFILEDETAIL"&&LoadItems(),DisplayDropDowns());GetUserConfiguration();$(".InputAutoPostBack").on("change",function(){AutoPostBack($(this).chosen().val())});if($(".MainPageTitle").attr("data-id")=="Warehouse_PO")$(".InputFacility, .InputStorerKey").on("change",function(){$(".InputDetailsSku").empty().trigger("chosen:updated")});else if($(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"){$(".InputFacility").on("change",function(){$(".InputDetailsUOM").empty().trigger("chosen:updated");$(".InputDetailsPrice").val("");$(".InputDetailsCurrency").val("")});$(".InputFacility, .InputStorerKey").on("change",function(){$(".InputDetailsSku").empty().trigger("chosen:updated")})}if($(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement")$(".NewRecord").find(".InputStorerKey, .InputConsigneeKey, .InputDetailsSku").on("change",function(){$(".NewDetailRecord:visible").length>0&&SetPriceAndCurrency()});$(".btnDelete").click(function(){if($(".HeaderGridView:visible").length>0){if($(".HeaderGridView").find(".chkSelectGrd:checked").length>0){var n="";$(".chkSelectGrd:checked").each(function(){n=n==""?$(this).attr("data-id"):n+","+$(this).attr("data-id")});DeleteItems(n)}}else $(".MyRecordID").val()!=0&&DeleteItems($(".MyRecordID").val())});$(".btnDeleteDetail").click(function(){if($(".DetailsGridView:visible").length>0&&$(".DetailsGridView").find(".chkSelectGrd:checked").length>0){var n="";$(".chkSelectGrd:checked").each(function(){n=n==""?$(this).attr("data-id"):n+","+$(this).attr("data-id")});DeleteItemsDetails(n)}});$(".BtnDoSomeThing").click(function(){if($(".HeaderGridView:visible").length>0){if($(".chkSelectGrd:checked").length>0){var n="";$(".chkSelectGrd:checked").each(function(){n=n==""?$(this).attr("data-id"):n+","+$(this).attr("data-id")});ExecuteAction(n,$(this).attr("data-id"))}}else $(".MyRecordID").val()!=0&&ExecuteAction($(".MyRecordID").val(),$(this).attr("data-id"))});$(".AddDetailsBtn").click(function(){$(".RecordsContainer_Inside").eq(0).clone().prependTo(".RecordsContainer").slideDown();setOnCufex_Resize();$(".MyContainerPopup").mCustomScrollbar("scrollTo",$(".RecordsContainer:eq(0)"));$(".RecordsContainer_Inside").eq(0).find(".chosen-container").remove();$(".RecordsContainer_Inside").eq(0).find(".chosen-select").chosen();$(".RecordsContainer_Inside").eq(0).find(".chosen-container").css("width","100%");$(".RecordsContainer_Inside").eq(0).find(".chosen-select").trigger("chosen:updated");$(".RecordsContainer_Inside").eq(0).find("input:text").each(function(){var n=$(this);n.attr("data-value")!=null?n.val(n.attr("data-value")):n.val("");n.attr("data-disabled")!=null?n.prop("disabled",!0):n.prop("disabled",!1)});$(".RecordsContainer_Inside").eq(0).find("select").prop("disabled",!1).trigger("chosen:updated");$(".RecordsContainer_Inside").eq(0).find(".InputDetailsUOM").empty().trigger("chosen:updated");$(".btnDeleteDtl").click(function(){var n=$(this);n.parent(".RecordsContainer_Inside").remove();setOnCufex_Resize()});$(".RecordsContainer_Inside").eq(0).find(".datepicker").removeClass("hasDatepicker");$(".RecordsContainer_Inside").eq(0).find(".datepicker").datepicker();$(".RecordsContainer_Inside").find(".InputAutoPostBackDetails").on("change",function(){AutoPostBackDetails($(this).closest(".RecordsContainer_Inside:visible"),$(this).chosen().val())});if($(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement")$(".InputStorerKey, .InputConsigneeKey, .InputDetailsSku").on("change",function(){$(".RecordsContainer_Inside:visible").length>0&&SetPriceAndCurrency()})});$(".btnActions").click(function(n){n.preventDefault();n.stopPropagation();$(".ActionHiddenButtons").slideToggle()});$(".ClosePopup").click(function(){$(".RecordsContainer_Inside:visible").remove();$(".FloatRecordField").find("input:password").removeClass("Error");$(".ErrorIcon").remove();$(".New_Modify_Record_PopUp").fadeOut();$(".MyRecordID").val(0)});$(".SaveRecordNow").click(function(){$(".MainPageTitle").attr("data-id")=="PORTALUSERS"?$("input[type='password']").hasClass("Error")||SaveItems():SaveItems()});$(".btnSave").click(function(){$(".MainPageTitle").attr("data-id")=="ChangePassword"?$("input[type='password']").hasClass("Error")||SaveItems():SaveItemsNew()});$(".datepicker").datepicker();$(".checkRadio").checkboxradio({icon:!1});$(".chosen-select").chosen({disable_search_threshold:10,width:"100%"});$(".NewHeaderRecord").find(".chosen-select").on("chosen:showing_dropdown",function(){$(".NewHeaderRecord").removeClass("u-overflowHidden")});$(".MyTab").length>0&&(MoveTabLine(0),$(".MyTab").click(function(){if($(".MyTab").removeClass("Active"),$(this).addClass("Active"),MoveTabLine($(this).index()),$(".MainPageTitle").attr("data-id")=="PROFILEDETAIL"){$(".GridContainer").addClass("DisplayNone");$(".btnDelete").addClass("DisplayNone");$(".btnDelete").parent("td").prev("td").hide();var n=$(this).data("id");n=="Actions"?$(".GridActions").removeClass("DisplayNone"):n=="Reports"?$(".GridReports").removeClass("DisplayNone"):n=="Dashboards"&&($(".GridDashboards").removeClass("DisplayNone"),$(".btnDelete").removeClass("DisplayNone"),$(".btnDelete").parent("td").prev("td").show(),setOnCufex_Resize());CurrentPage=0;$(".SearchClass").val("");SearchQuery="";SortBy="id desc";LoadItems();setTimeout(function(){InitColResizable()},300)}SetMasterResize()}));$(".HiddenID").val()!=0&&$(".HiddenID").length>0&&(AvoidWebServiceRaceCondition=0,$(".NewRecord").length>0?$(".btnAddNew").trigger("click"):$(".btnQuickEntry").trigger("click"),setTimeout(function(){var n=$(".HiddenID").val();$(".HiddenID").val(0);$(".NewRecord").length>0?DisplayItemNew(n,""):DisplayItem(n,"")},1500));$(".textRecordStylePassword").blur(function(){$(this).removeClass("Error");$(this).siblings(".ErrorIcon").remove();$(this).val()!=""&&($(this).val().match(/^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{10,}$/)||($(this).addClass("Error"),$(this).after("<div class='ErrorIcon' title='Password must be at least 10 characters, have one upper case letter, one lower case letter and one base 10 digits (0 to 9)'><\/div>")))})}function ChangeColumnsOrder(n){n.each(function(){var n=$(this).children(".GridCell");n.sort(function(n,t){var i=$(n).attr("data-priority")==null?0:parseInt($(n).attr("data-priority")),r=$(t).attr("data-priority")==null?0:parseInt($(t).attr("data-priority"));return i-r});$(this).html(n)})}function ShowHideColumns(n){n.children(".GridCell").each(function(){var n=$(this);n.attr("data-hidden")=="true"?n.hide():n.show()})}function PageTable(n){var r=$("."+n).find(".GridResults").size(),t=n=="HeaderGridView"?CurrentPage:CurrentPageDetails,i=n=="HeaderGridView"?NumberOfRecordsInPage:NumberOfRecordsInPageDetails,u=1+t*i,f=(t+1)*i>r?r:(t+1)*i;$("."+n).find(".PagingNumbers").html(u+"-"+f+" of "+r);$("."+n).find(".GridResults").hide().slice(t*i,(t+1)*i).show()}function PageTableTab(n){var t=$("."+n).find(".GridResults").size(),i=1+CurrentPage*NumberOfRecordsInPage,r=(CurrentPage+1)*NumberOfRecordsInPage>t?t:(CurrentPage+1)*NumberOfRecordsInPage;$(".PagingNumbers").html(i+"-"+r+" of "+t);$("."+n).find(".GridResults").hide().slice(CurrentPage*NumberOfRecordsInPage,(CurrentPage+1)*NumberOfRecordsInPage).show()}function SetGridActions(){function n(n,t){var s,r,u,i,e,o,f,c=0,l=$(".HeaderGridView:visible").length>0?0:1,h="GridContainer";for($(".MyTab").length>0&&(h="Grid"+$(".MyTab.Active").data("id")),s=document.getElementsByClassName(h)[l],u=!0;u;){for(u=!1,r=s.rows,i=2;i<r.length-1;i++)if(f=!1,e=r[i].getElementsByClassName("GridCell")[n],o=r[i+1].getElementsByClassName("GridCell")[n],t=="asc"){if(e.innerHTML.toLowerCase()>o.innerHTML.toLowerCase()){f=!0;break}}else if(t=="desc"&&e.innerHTML.toLowerCase()<o.innerHTML.toLowerCase()){f=!0;break}f&&(r[i].parentNode.insertBefore(r[i+1],r[i]),u=!0,c++)}}function i(){var n="",i;i=$(".HeaderGridView:visible").length>0?$(".MyFields[data-columnname]"):$(".MyDetailsFields[data-columnname]");i.each(function(t){var i=$(this),r=i.attr("data-primarykey")=="true";n+="<div class='ColumnContainer"+(r?" IsPrimaryKey":"")+"' data-id = '"+i.val()+"' data-priority='"+(t+1)+"' data-hidden='false'>"+i.data("columnname")+(r?"":"<div class='ColumnChooserAction'><\/div>")+"<\/div>"});$(".GridColumnsChooser").find(".mCSB_container").html(n);t()}function r(){$(".HeaderGridView:visible").length>0?($(".HeaderGridView").find(".GridContainer").data("resizemode")=="overflow"&&$(".preloader").fadeIn(),$(".ColumnContainer").each(function(){var r=$(this).data("id"),n=$(this).data("hidden"),i=$(this).data("priority"),u=$(".HeaderGridView").find(".GridAdjust").children(".GridCell[data-id='"+r+"']"),t=u.index();u.attr("data-priority",i);u.attr("data-hidden",n);$(".MyFields[value='"+r+"']").attr("data-priority",i);$(".MyFields[value='"+r+"']").attr("data-hidden",n);$(".HeaderGridView").find(".SearchStyle").children(".GridCell").eq(t).attr("data-priority",i);$(".HeaderGridView").find(".SearchStyle").children(".GridCell").eq(t).attr("data-hidden",n);$(".HeaderGridView").find(".NoResults").children(".GridCell").eq(t).attr("data-hidden",n);$(".HeaderGridView").find(".GridResults").each(function(){$(this).children(".GridCell").eq(t).attr("data-hidden",n);$(this).children(".GridCell").eq(t).attr("data-priority",i)})}),ShowHideColumns($(".HeaderGridView").find(".GridRow")),ChangeColumnsOrder($(".HeaderGridView").find(".GridRow")),$(".HeaderGridView").find(".GridRow").not(".NoResults").each(function(){var n=$(this).children(".GridCell[data-priority]");n.removeClass("borderRight0");n.eq(n.length-1).addClass("borderRight0")})):($(".DetailsGridView").find(".GridContainer").data("resizemode")=="overflow"&&$(".preloader").fadeIn(),$(".ColumnContainer").each(function(n){var r=$(this).data("id"),t=$(this).data("hidden"),u=$(".DetailsGridView").find(".GridAdjust").children(".GridCell[data-id='"+r+"']"),i=u.index();u.attr("data-priority",n+1);u.attr("data-hidden",t);$(".MyDetailsFields[value='"+r+"']").attr("data-priority",n+1);$(".MyDetailsFields[value='"+r+"']").attr("data-hidden",t);$(".DetailsGridView").find(".SearchStyle").children(".GridCell").eq(i).attr("data-priority",n+1);$(".DetailsGridView").find(".SearchStyle").children(".GridCell").eq(i).attr("data-hidden",t);$(".DetailsGridView").find(".NoResults").children(".GridCell").eq(i).attr("data-hidden",t);$(".DetailsGridView").find(".GridResults").each(function(){$(this).children(".GridCell").eq(i).attr("data-hidden",t);$(this).children(".GridCell").eq(i).attr("data-priority",n+1)})}),ShowHideColumns($(".DetailsGridView").find(".GridRow")),ChangeColumnsOrder($(".DetailsGridView").find(".GridRow")),$(".DetailsGridView").find(".GridRow").not(".NoResults").each(function(){var n=$(this).children(".GridCell[data-priority]");n.removeClass("borderRight0");n.eq(n.length-1).addClass("borderRight0")}));$(".Adjust_Columns_PopUp").fadeOut();SetUserConfigution()}function t(){$(".ColumnChooserAction").click(function(){$(this).hasClass("AddColumn")?($(this).removeClass("AddColumn"),$(this).parent(".ColumnContainer").removeClass("Inactive"),$(this).parent(".ColumnContainer").attr("data-hidden","false")):($(this).addClass("AddColumn"),$(this).parent(".ColumnContainer").addClass("Inactive"),$(this).parent(".ColumnContainer").attr("data-hidden","true"))})}$(".GridContainer").on("click",".GridHead[data-id]",function(){var t,i=$(".HeaderGridView:visible").length>0?$(".HeaderGridView"):$(".DetailsGridView"),r=$(".HeaderGridView:visible").length>0?"HeaderGridView":"DetailsGridView";$("MyTab").length>0&&(i=$(".Grid"+$(".MyTab.Active").data("id")),r="Grid"+$(".MyTab.Active").data("id"));$(this).find(".SortUp").hasClass("Active")?(i.find(".SortUp,.SortDown").removeClass("Active"),$(this).find(".SortDown").addClass("Active"),$(".HeaderGridView:visible").length>0?SortBy=$(this).find(".SortDown").parent().parent().attr("data-id")+" desc":SortByDetails=$(this).find(".SortDown").parent().parent().attr("data-id")+" desc",t="desc"):(i.find(".SortUp,.SortDown").removeClass("Active"),$(this).find(".SortUp").addClass("Active"),$(".HeaderGridView:visible").length>0?SortBy=$(this).find(".SortUp").parent().parent().attr("data-id")+" asc":SortByDetails=$(this).find(".SortUp").parent().parent().attr("data-id")+" asc",t="asc");$(".GridResults").length>0&&(n($(this).index(),t),$("MyTab").length>0?PageTableTab(r):PageTable(r),$(".Arrow-Left-Back-First").trigger("click"))});$(".GridContainer").on("click",".SortUp",function(t){t.stopPropagation();var r=$(".HeaderGridView:visible").length>0?$(".HeaderGridView"):$(".DetailsGridView"),i=$(".HeaderGridView:visible").length>0?"HeaderGridView":"DetailsGridView";$("MyTab").length>0&&(r=$(".Grid"+$(".MyTab.Active").data("id")),i="Grid"+$(".MyTab.Active").data("id"));r.find(".SortUp,.SortDown").removeClass("Active");$(this).addClass("Active");$(".HeaderGridView:visible").length>0?SortBy=$(this).parent().parent().attr("data-id")+" asc":SortByDetails=$(this).parent().parent().attr("data-id")+" asc";$(".GridResults").length>0&&(n($(this).closest(".GridCell").index(),"asc"),$("MyTab").length>0?PageTableTab(i):PageTable(i),$(".Arrow-Left-Back-First").trigger("click"))});$(".GridContainer").on("click",".SortDown",function(t){t.stopPropagation();var r=$(".HeaderGridView:visible").length>0?$(".HeaderGridView"):$(".DetailsGridView"),i=$(".HeaderGridView:visible").length>0?"HeaderGridView":"DetailsGridView";$("MyTab").length>0&&(r=$(".Grid"+$(".MyTab.Active").data("id")),i="Grid"+$(".MyTab.Active").data("id"));r.find(".SortUp,.SortDown").removeClass("Active");$(this).addClass("Active");$(".HeaderGridView:visible").length>0?SortBy=$(this).parent().parent().attr("data-id")+" desc":SortByDetails=$(this).parent().parent().attr("data-id")+" desc";$(".GridResults").length>0&&(n($(this).closest(".GridCell").index(),"desc"),$("MyTab").length>0?PageTableTab(i):PageTable(i),$(".Arrow-Left-Back-First").trigger("click"))});$(".AC_PopupAction_Reset").click(function(){i()});$(".AC_PopupAction_Apply").click(function(){r()});$(".GridContainer").on("click",".AdjustColumns",function(){var n,i,r;$(this).closest(".HeaderGridView").length>0?(n=$(".HeaderGridView"),i=".MyFields"):(n=$(".DetailsGridView"),i=".MyDetailsFields");r="";n.find(".GridAdjust").children(".GridCell[data-id]").each(function(n){var t=$(this),u=t.attr("data-hidden")=="true",f=$(i+"[value='"+t.data("id")+"']").attr("data-primarykey")=="true";r+="<div class='ColumnContainer"+(f?" IsPrimaryKey":"")+" "+(u?" Inactive":"")+"' data-id = '"+t.data("id")+"' data-priority='"+(n+1)+"' data-hidden='"+(u?"true":"false")+"'>"+t.text()+(f?"":"<div class='ColumnChooserAction"+(u?" AddColumn":"")+"'><\/div>")+"<\/div >"});$(".GridColumnsChooser").find(".mCSB_container").html(r);t();$(".GridColumnsChooser").sortable({items:'.ColumnContainer:not(".IsPrimaryKey")',update:function(){$(".ColumnContainer").each(function(){$(this).attr("data-priority",$(this).index()+1)})}});$(".Adjust_Columns_PopUp").fadeIn()});$(".GridContainer").on("click",".EraseSearch",function(){$(".HeaderGridView:visible").length>0?($(".HeaderGridView").find(".SearchClass").val(""),SearchQuery=""):($(".DetailsGridView").find(".SearchClass").val(""),SearchQueryDetails="")});$(".GridContainer").on("click",".GridSearch",function(){$(".HeaderGridView:visible").length>0?(SearchQuery="",$(".HeaderGridView").find(".SearchClass").each(function(){$(this).val()!=""&&(SearchQuery=SearchQuery+(SearchQuery!=""?",":"")+$(this).attr("data-id")+":"+$(this).val())}),isFirstLoad=!1,LoadItems()):(SearchQueryDetails="",$(".DetailsGridView").find(".SearchClass").each(function(){$(this).val()!=""&&(SearchQueryDetails=SearchQueryDetails+(SearchQueryDetails!=""?",":"")+$(this).attr("data-id")+":"+$(this).val())}),LoadItemsDetails())});$(".GridContainer").on("keypress",".SearchClass",function(n){SearchQuery="";SearchQueryDetails="";n.keyCode==13&&(n.preventDefault(),$(".HeaderGridView:visible").length>0?($(".HeaderGridView").find(".SearchClass").each(function(){SearchQuery==""?$(this).val()!=""&&(SearchQuery=$(this).attr("data-id")+":"+$(this).val()):$(this).val()!=""&&(SearchQuery=SearchQuery+","+$(this).attr("data-id")+":"+$(this).val())}),isFirstLoad=!1,LoadItems()):($(".DetailsGridView").find(".SearchClass").each(function(){SearchQueryDetails==""?$(this).val()!=""&&(SearchQueryDetails=$(this).attr("data-id")+":"+$(this).val()):$(this).val()!=""&&(SearchQueryDetails=SearchQueryDetails+","+$(this).attr("data-id")+":"+$(this).val())}),LoadItemsDetails()))});$(".GridContainer").on("change",".chkSelectAll",function(){var n=$(".HeaderGridView:visible").length>0?$(".HeaderGridView"):$(".DetailsGridView");n.find(".chkSelectGrd:enabled").prop("checked",$(this).is(":checked"))});$(".HeaderGridView").find(".Arrow-Left-Back").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Left-Back").addClass("Disabled");$(".Arrow-Left-Back").unbind("click").click(function(){if($(".HeaderGridView:visible").length>0){if(CurrentPage=parseInt(CurrentPage)-1,CurrentPage<0){CurrentPage=0;return}CurrentPage==0?($(".HeaderGridView").find(".Arrow-Left-Back").addClass("Disabled"),$(".HeaderGridView").find(".Arrow-Left-Back-First").addClass("Disabled")):($(".HeaderGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));MaxPages!=1&&($(".HeaderGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));$("MyTab").length>0?PageTableTab("Grid"+$(".MyTab.Active").data("id")):PageTable("HeaderGridView")}else{if(CurrentPageDetails=parseInt(CurrentPageDetails)-1,CurrentPageDetails<0){CurrentPageDetails=0;return}CurrentPageDetails==0?($(".DetailsGridView").find(".Arrow-Left-Back").addClass("Disabled"),$(".DetailsGridView").find(".Arrow-Left-Back-First").addClass("Disabled")):($(".DetailsGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));MaxPagesDetails!=1&&($(".DetailsGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));PageTable("DetailsGridView")}});$(".HeaderGridView").find(".Arrow-Left-Back-First").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Left-Back-First").addClass("Disabled");$(".Arrow-Left-Back-First").unbind("click").click(function(){if($(".HeaderGridView:visible").length>0){if(CurrentPage==0)return;$(".HeaderGridView").find(".Arrow-Left-Back-First").addClass("Disabled");$(".HeaderGridView").find(".Arrow-Left-Back").addClass("Disabled");MaxPages!=1&&($(".HeaderGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));CurrentPage=0;$("MyTab").length>0?PageTableTab("Grid"+$(".MyTab.Active").data("id")):PageTable("HeaderGridView")}else{if(CurrentPageDetails==0)return;$(".DetailsGridView").find(".Arrow-Left-Back-First").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Left-Back").addClass("Disabled");MaxPagesDetails!=1&&($(".DetailsGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));CurrentPageDetails=0;PageTable("DetailsGridView")}});$(".HeaderGridView").find(".Arrow-Right-Forward").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Right-Forward").addClass("Disabled");$(".Arrow-Right-Forward").unbind("click").click(function(){if($(".HeaderGridView:visible").length>0){if(CurrentPage=parseInt(CurrentPage)+1,CurrentPage>=MaxPages){CurrentPage=MaxPages;return}CurrentPage==MaxPages-1?($(".HeaderGridView").find(".Arrow-Right-Forward").addClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled")):($(".HeaderGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));MaxPages!=1&&($(".HeaderGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));$("MyTab").length>0?PageTableTab("Grid"+$(".MyTab.Active").data("id")):PageTable("HeaderGridView")}else{if(CurrentPageDetails=parseInt(CurrentPageDetails)+1,CurrentPageDetails>=MaxPagesDetails){CurrentPageDetails=MaxPagesDetails;return}CurrentPageDetails==MaxPagesDetails-1?($(".DetailsGridView").find(".Arrow-Right-Forward").addClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled")):($(".DetailsGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));MaxPagesDetails!=1&&($(".DetailsGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));PageTable("DetailsGridView")}});$(".HeaderGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled");$(".Arrow-Right-Forward-Last").unbind("click").click(function(){if($(".HeaderGridView:visible").length>0){if(CurrentPage==MaxPages-1)return;$(".HeaderGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled");$(".HeaderGridView").find(".Arrow-Right-Forward").addClass("Disabled");MaxPages!=1&&($(".HeaderGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));CurrentPage=MaxPages-1;$("MyTab").length>0?PageTableTab("Grid"+$(".MyTab.Active").data("id")):PageTable("HeaderGridView")}else{if(CurrentPageDetails==MaxPagesDetails-1)return;$(".DetailsGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled");$(".DetailsGridView").find(".Arrow-Right-Forward").addClass("Disabled");MaxPagesDetails!=1&&($(".DetailsGridView").find(".Arrow-Left-Back").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Left-Back-First").removeClass("Disabled"));CurrentPageDetails=MaxPagesDetails-1;PageTable("DetailsGridView")}})}function DeleteItems(n){function t(n){var t=jQuery.parseJSON(n),i=!0;Object.keys(t).length>0?$.trim(t.Result)!==""&&(i=!1,setTimeout(function(){swal({title:"Delete",text:t.Result.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("Couldn't Delete Your Record");i&&(AvoidWebServiceRaceCondition=0,$(".BackHeader").trigger("click"),$(".HeaderGridView").mCustomScrollbar("scrollTo","first"),$(".HeaderGridView").mCustomScrollbar("update"),isFirstLoad=!0,LoadItems());console.log("Delete Items API End Time: "+GetTime())}function i(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}AvoidWebServiceRaceCondition==0&&(AvoidWebServiceRaceCondition=1,console.log("Delete Items API Start Time: "+GetTime()),swal({title:"Delete",text:"Are you sure you want to remove this record?",type:"warning",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!0},function(r){if(r){$(".preloader").fadeIn();var f=sAppPath+"WebServices/DeleteItems.ashx",u=new FormData;u.append("SearchTable",$(".MainPageTitle").attr("data-id"));u.append("MyItems",n);u.append("QueryUrlStr",$(".QueryUrlStr").val());$.ajax({type:"POST",contentType:!1,processData:!1,data:u,url:f+"/ExecuteQuery",success:t,error:i})}else AvoidWebServiceRaceCondition=0}))}function DeleteItemsDetails(n){function t(n){var t=jQuery.parseJSON(n),i=!0;Object.keys(t).length>0?$.trim(t.Result)!==""&&(i=!1,setTimeout(function(){swal({title:"Delete",text:t.Result.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("Couldn't Delete Your Record");i&&(AvoidWebServiceRaceCondition=0,isFirstLoad=!0,LoadItemsDetails());console.log("Delete Items Details API End Time: "+GetTime())}function i(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}AvoidWebServiceRaceCondition==0&&(console.log("Delete Items Details API Start Time: "+GetTime()),AvoidWebServiceRaceCondition=1,swal({title:"Delete",text:"Are you sure you want to remove this record?",type:"warning",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!0},function(r){if(r){$(".preloader").fadeIn();var f=sAppPath+"WebServices/DeleteItemsDetails.ashx",u=new FormData;u.append("SearchTable",$(".MainPageTitle").attr("data-id"));u.append("MyItems",n);u.append("Facility",$(".NewHeaderRecord").find(".InputFacility").val());$.ajax({type:"POST",contentType:!1,processData:!1,data:u,url:f+"/ExecuteQuery",success:t,error:i})}else AvoidWebServiceRaceCondition=0}))}function SaveItems(){function i(n){var t=jQuery.parseJSON(n),i=!0;Object.keys(t).length>0?$.trim(t.tmp)==""?$(".ClosePopup").trigger("click"):(i=!1,setTimeout(function(){swal({title:"Save",text:t.tmp.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("Couldn't Save Your Record");i&&(AvoidWebServiceRaceCondition=0,isFirstLoad=!0,t.url!==undefined?location.href=t.url:LoadItems());console.log("Save Item API End Time: "+GetTime())}function r(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Save Item API Start Time: "+GetTime());$(".preloader").fadeIn();var t=sAppPath+"WebServices/SaveItems.ashx",n=new FormData;n.append("SearchTable",$(".MainPageTitle").attr("data-id"));n.append("MyID",$(".MyRecordID").val());n.append("DetailsCount",$(".RecordsContainer_Inside:visible").length);$(".MainPageTitle").attr("data-id")!="ChangePassword"?$(".MyFields").each(function(){var t=$(this).val();$(".RecordHeader").find(".Input"+t).is("input")?$(".RecordHeader").find(".Input"+t).attr("type")=="text"||$(".RecordHeader").find(".Input"+t).attr("type")=="password"?n.append("Field_"+t,$(".RecordHeader").find(".Input"+t).val()):$(".RecordHeader").find(".Input"+t).attr("type")=="checkbox"&&n.append("Field_"+t,$(".RecordHeader").find(".Input"+t).prop("checked")):$(".RecordHeader").find(".Input"+t).is("select")&&n.append("Field_"+t,$(".RecordHeader").find(".Input"+t).val())}):(n.append("Field_OriginalPassword",$(".NewHeaderRecord").find(".InputOriginalPassword").val()),n.append("Field_NewPassword",$(".NewHeaderRecord").find(".InputNewPassword").val()),n.append("Field_ConfirmPassword",$(".NewHeaderRecord").find(".InputConfirmPassword").val()));$(".MyDetailsFields").each(function(){var t=$(this).val(),i="";$(".RecordsContainer_Inside:visible").each(function(n){i+=n==0?$(this).find(".InputDetails"+t).val():"~~~"+$(this).find(".InputDetails"+t).val()});$(".RecordsContainer_Inside:visible").find(".InputDetails"+t).is("input")?$(".RecordsContainer_Inside:visible").find(".InputDetails"+t).attr("type")=="text"&&n.append("DetailsField_"+t,i):$(".RecordsContainer_Inside:visible").find(".InputDetails"+t).is("select")&&n.append("DetailsField_"+t,i)});$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:t+"/SaveItem",success:i,error:r})}}function SaveItemsNew(){function i(n){var t=jQuery.parseJSON(n),i=!0;Object.keys(t).length>0?$.trim(t.tmp)!=""&&(i=!1,setTimeout(function(){swal({title:"Save",text:t.tmp.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("Couldn't Save Your Record");i&&(AvoidWebServiceRaceCondition=0,$(".HeaderGridView").mCustomScrollbar("scrollTo","first"),$(".HeaderGridView").mCustomScrollbar("update"),$(".MyRecordID").val()==0?DisplayItemNew(t.serialkey,t.queryurl):$(".DetailsGridView:visible").length==0&&$(".MyDetailRecordID").length>0?SaveItemsDetails(t.serialkey,t.queryurl):DisplayItemNew(t.serialkey,t.queryurl));console.log("Save Item New API End Time: "+GetTime())}function r(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Save Item New API Start Time: "+GetTime());$(".preloader").fadeIn();var t=sAppPath+"WebServices/SaveItemsNew.ashx",n=new FormData;n.append("SearchTable",$(".MainPageTitle").attr("data-id"));n.append("MyID",$(".MyRecordID").val());$(".MyFields").each(function(){var i=$(this).val(),t=$(".FloatRecordNew").find(".Input"+i),r=t.val();t.is("input")?t.attr("type")=="text"&&n.append("Field_"+i,r):t.is("select")&&n.append("Field_"+i,r)});$(".MyDetailsFields").each(function(){var i=$(this).val(),t=$(".Details_FloatRecordNew").find(".InputDetails"+i),r=t.val();t.is("input")?t.attr("type")=="text"&&n.append("DetailsField_"+i,r):t.is("select")&&n.append("DetailsField_"+i,r)});$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:t+"/SaveItem",success:i,error:r})}}function SaveItemsDetails(n,t){function u(i){var r=jQuery.parseJSON(i),u=!0;Object.keys(r).length>0?$.trim(r.tmp)!=""&&(u=!1,setTimeout(function(){swal({title:"Save",text:r.tmp.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("Couldn't Save Your Record");u&&(AvoidWebServiceRaceCondition=0,$(".BackDetail").trigger("click"),$(".DetailsGridView").mCustomScrollbar("scrollTo","first"),$(".DetailsGridView").mCustomScrollbar("update"),DisplayItemNew(n,t),$(".NewHeaderRecord").find(".InputStatus").val(r.Status));console.log("Save Item Details API End Time: "+GetTime())}function f(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Save Item Details API Start Time: "+GetTime());$(".preloader").fadeIn();var r=sAppPath+"WebServices/SaveItemsDetails.ashx",i=new FormData;i.append("SearchTable",$(".MainPageTitle").attr("data-id"));i.append("MyID",$(".MyDetailRecordID").val());$(".MyFields").each(function(){var t=$(this).val(),n=$(".FloatRecordNew").find(".Input"+t),r=n.val();n.is("input")?n.attr("type")=="text"&&i.append("Field_"+t,r):n.is("select")&&i.append("Field_"+t,r)});$(".MyDetailsFields").each(function(){var t=$(this).val(),n=$(".Details_FloatRecordNew").find(".InputDetails"+t),r=n.val();n.is("input")?n.attr("type")=="text"&&i.append("DetailsField_"+t,r):n.is("select")&&i.append("DetailsField_"+t,r)});$.ajax({type:"POST",contentType:!1,processData:!1,data:i,url:r+"/SaveItem",success:u,error:f})}}function DisplayItem(n,t){function f(r){var u=jQuery.parseJSON(r),l,f,a,e,v,o,y,s,h,c,p;if(Object.keys(u).length>0)if($.trim(u.Error)==""){if(l=u.SavedFields,f=l.split(";;;"),$.each(f,function(n){var i="",t="",r=f[n].split(":::"),u;r.length>0&&(t=$(".RecordHeader").find(".Input"+$.trim(r[0])));r.length>1&&(i=r[1]);t.is("input")?t.attr("type")=="text"?t.val(i):$(t).attr("type")=="checkbox"?t.prop("checked",i):$(t).attr("type")=="password"&&(t.attr("type","text"),t.attr("value",i),setTimeout(function(){t.attr("type","password")},100)):t.is("select")&&(($(".MainPageTitle").attr("data-id")=="Warehouse_PO"||$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"||$(".MainPageTitle").attr("data-id")=="SKUCATALOGUE")&&t.hasClass("InputAutoPostBack")&&(AutoPostBack(i.split(",")),AvoidWebServiceRaceCondition=1),t.val(i.split(",")).trigger("chosen:updated"),u=setInterval(function(){IsAutoPostBack||(t.val(i.split(",")).trigger("chosen:updated"),clearInterval(u))},100))}),a=u.ReadOnlyFields,e=a.split("~~~"),$.each(e,function(n){var t="",i=e[n];i.length>0&&(t=$(".RecordHeader").find(".Input"+$.trim(i)));t.is("input")?t.prop("disabled",!0):t.is("select")&&t.prop("disabled",!0).trigger("chosen:updated")}),$(".AddDetailsBtn").hide(),$(".ErrorIcon").remove(),$(".MyRecordID").val(n),$(".FloatRecordField").find("input:password").val(""),$(".New_Modify_Record_PopUp").fadeIn(function(){SetMasterResize();$(".AddDetailsBtn").show();$(".FloatRecordField").find("input:password").removeClass("Error");$(".btnDeleteDtl").click(function(){var n=$(this);n.parent(".RecordsContainer_Inside").remove();setOnCufex_Resize()})}),u.DetailsCount>0){for(setTimeout(function(){var n=$(".RecordsContainer_Inside").find(".InputDetailsSku"),t=$(".RecordHeader").find(".InputFacility").val(),i=$(".RecordHeader").find(".InputStorerKey").val();GetSkuDropDown(n,t,i,"")},2e3),i=0;i<u.DetailsCount;i++)$(".RecordsContainer_Inside").eq(0).clone().prependTo(".RecordsContainer").show(),setOnCufex_Resize(),$(".RecordsContainer_Inside").eq(0).find(".chosen-container").remove(),$(".RecordsContainer_Inside").eq(0).find(".chosen-select").chosen(),$(".RecordsContainer_Inside").eq(0).find(".chosen-container").css("width","100%"),$(".RecordsContainer_Inside").eq(0).find(".chosen-select").trigger("chosen:updated"),$(".RecordsContainer_Inside").eq(0).find(".datepicker").removeClass("hasDatepicker"),$(".RecordsContainer_Inside").eq(0).find(".datepicker").datepicker();if($(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement")$(".InputStorerKey, .InputConsigneeKey, .InputDetailsSku").on("change",function(){$(".RecordsContainer_Inside:visible").length>0&&SetPriceAndCurrency()});v=u.SavedDetailsFields;o=v.split(";;;");$.each(o,function(n){var i="",t="",r=o[n].split(":::");r.length>0&&(t=$(".RecordsContainer_Inside:visible").find(".InputDetails"+$.trim(r[0])));r.length>1&&(i=r[1].split("~~~"));$(".RecordsContainer_Inside:visible").each(function(n){if(i[n]!=null)if(t.eq(n).is("input"))t.eq(n).attr("type")=="text"?t.eq(n).val(i[n]):t.eq(n).attr("type")=="checkbox"&&t.eq(n).prop("checked",i[n]);else if(t.eq(n).is("select"))if($(".MainPageTitle").attr("data-id")=="Warehouse_PO"||$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"){t.eq(n).hasClass("InputAutoPostBackDetails")&&(AutoPostBackDetails($(".RecordsContainer_Inside").eq(n),i[n].split(",")),AvoidWebServiceRaceCondition=1);t.eq(n).val(i[n].split(",")).trigger("chosen:updated");var r=setInterval(function(){IsAutoPostBackDetails||(t.eq(n).val(i[n].split(",")).trigger("chosen:updated"),clearInterval(r))},3e3)}else t.eq(n).val(i[n].split(",")).trigger("chosen:updated")})});y=u.ReadOnlyDetailsFields;s=y.split("~~~");$(".RecordsContainer_Inside:visible").each(function(n){$.each(s,function(t){var i="",r=s[t];r.length>0&&(i=$(".RecordsContainer_Inside:visible").find(".InputDetails"+$.trim(r)));i.eq(n).is("input")?i.eq(n).prop("disabled",!0):i.eq(n).is("select")&&i.eq(n).prop("disabled",!0).trigger("chosen:updated")})});h=u.InputDetailsFields;h!=""&&(c=h.split(";;;"),$.each(c,function(n){var i="",r="",t=c[n].split(":::");t.length>0&&(r=$(".RecordsContainer_Inside:visible").find(".InputDetails"+$.trim(t[0])));t.length>1&&(i=t[1].split("~~~"));$(".RecordsContainer_Inside:visible").each(function(n){r.eq(n).parents(".Details_FloatRecordField").siblings(".Details_FloatRecordTitle").html(i[n])})}))}t!=""&&(p=$(".HiddenDetailLink").val(),window.history.pushState("object or string",n,p+t))}else showPreloader=!1,setTimeout(function(){swal({title:"View",text:u.Error.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500);else console.log("This record does not exist");!0&&$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0});console.log("Display Item API End Time: "+GetTime())}function e(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Display Item API Start Time: "+GetTime());$(".preloader").fadeIn();var u=sAppPath+"WebServices/DisplayItems.ashx",r=new FormData;r.append("SearchTable",$(".MainPageTitle").attr("data-id"));r.append("MyID",n);$.ajax({type:"POST",contentType:!1,processData:!1,data:r,url:u+"/DisplayItem",success:f,error:e})}}function DisplayItemNew(n,t){function u(i){var r=jQuery.parseJSON(i),e=!0,o,u,s,f,h;Object.keys(r).length>0?$.trim(r.Error)==""?($(".btnAddNew").trigger("click"),o=r.SavedFields,u=o.split(";;;"),$.each(u,function(n){var i="",t="",r=u[n].split(":::"),f;r.length>0&&(t=$(".NewHeaderRecord").find(".Input"+r[0].trim()));r.length>1&&(i=r[1]);t.is("input")?t.attr("type")=="text"&&t.val(i):t.is("select")&&(($(".MainPageTitle").attr("data-id")=="Warehouse_PO"||$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"||$(".MainPageTitle").attr("data-id")=="SKUCATALOGUE")&&t.hasClass("InputAutoPostBack")&&(AutoPostBack(i.split(",")),AvoidWebServiceRaceCondition=1),t.val(i.split(",")).trigger("chosen:updated"),f=setInterval(function(){IsAutoPostBack||(t.val(i.split(",")).trigger("chosen:updated"),clearInterval(f))},100))}),s=r.ReadOnlyFields,f=s.split("~~~"),$.each(f,function(n){var t="",i=f[n];i.length>0&&(t=$(".NewHeaderRecord").find(".Input"+i.trim()));t.is("input:text")?t.prop("disabled",!0):t.is("select")&&t.prop("disabled",!0).trigger("chosen:updated")}),$(".MyRecordID").val(n),$(".ActionsDetails,.DetailsGridView").show(),$(".NewDetailRecord").hide(),t!=""&&(h=$(".HiddenDetailLink").val(),window.history.pushState("object or string",n,h+t))):(e=!1,setTimeout(function(){swal({title:"View",text:r.Error.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("This record does not exist");e&&($(".DetailsGridView").length>0?(AvoidWebServiceRaceCondition=0,setTimeout(function(){isFirstLoad=!0;GetUserConfiguration();LoadItemsDetails();$(".DetailsGridView").find(".chkSelectAll").prop("checked",!1)},500)):$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0}));console.log("Display Item New API End Time: "+GetTime())}function f(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Display Item New API Start Time: "+GetTime());$(".preloader").fadeIn();$("html, body").animate({scrollTop:0},"slow","easeInOutCubic");var r=sAppPath+"WebServices/DisplayItemsNew.ashx",i=new FormData;i.append("SearchTable",$(".MainPageTitle").attr("data-id"));i.append("MyID",n);$.ajax({type:"POST",contentType:!1,processData:!1,data:i,url:r+"/DisplayItem",success:u,error:f})}}function DisplayItemDetails(n){function r(t){var i=jQuery.parseJSON(t),f=!0,e,r,o,u;Object.keys(i).length>0?$.trim(i.Error)==""?($(".btnNew").trigger("click"),e=i.SavedDetailsFields,r=e.split(";;;"),$.each(r,function(n){var i="",t="",u=r[n].split(":::"),f;u.length>0&&(t=$(".NewDetailRecord").find(".InputDetails"+u[0].trim()));u.length>1&&(i=u[1]);t.is("input")?t.attr("type")=="text"&&t.val(i):t.is("select")&&(($(".MainPageTitle").attr("data-id")=="Warehouse_PO"||$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"||$(".MainPageTitle").attr("data-id")=="Warehouse_SO"||$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement")&&t.hasClass("InputAutoPostBackDetails")&&(AutoPostBackDetails($(".NewDetailRecord"),i.split(",")),AvoidWebServiceRaceCondition=1),t.val(i.split(",")).trigger("chosen:updated"),f=setInterval(function(){IsAutoPostBackDetails||(t.val(i.split(",")).trigger("chosen:updated"),clearInterval(f))},100))}),o=i.ReadOnlyDetailsFields,u=o.split("~~~"),$.each(u,function(n){var t="",i=u[n];i.length>0&&(t=$(".NewDetailRecord").find(".InputDetails"+i.trim()));t.is("input")?t.prop("disabled",!0):t.is("select")&&t.prop("disabled",!0).trigger("chosen:updated")}),$(".MyDetailRecordID").val(n),$(".MainPageDetailTitle").html("Edit Record")):(f=!1,setTimeout(function(){swal({title:"View",text:i.Error.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})},500)):console.log("This record does not exist");f&&$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0});console.log("Display Item Details New API End Time: "+GetTime())}function u(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;console.log("Display Item Details New API Start Time: "+GetTime());$(".preloader").fadeIn();var i=sAppPath+"WebServices/DisplayItemsDetails.ashx",t=new FormData;t.append("SearchTable",$(".MainPageTitle").attr("data-id"));t.append("MyID",n);t.append("Facility",$(".NewHeaderRecord").find(".InputFacility").val());$.ajax({type:"POST",contentType:!1,processData:!1,data:t,url:i+"/DisplayItem",success:r,error:u})}}function LoadItems(){var r,n,i,t;if($(".MainPageTitle").attr("data-id")!="ChangePassword"){AvoidWebServiceRaceCondition==0&&(AvoidWebServiceRaceCondition=1,$(".HeaderGridView").find(".GridResults").remove(),$(".HeaderGridView").find(".NoResults").hide(),isFirstLoad||$(".preloader").fadeIn(),isFirstLoad=!1,r=sAppPath+"WebServices/GetItems.ashx",n="",$(".MyTab").length>0&&(n=$(".MyTab.Active").data("id")),i=$(".QueryUrlStr").val(),t=new FormData,t.append("SearchQuery",SearchQuery),t.append("SearchTable",$(".MainPageTitle").attr("data-id")),t.append("SortBy",SortBy),t.append("QueryUrlStr",i),t.append("TabName",n),$.ajax({type:"POST",contentType:!1,processData:!1,data:t,url:r+"/GetMore",success:u,error:f}));function u(t){var r=jQuery.parseJSON(t),u;if(Object.keys(r).length>0)if($(".PagingNumbers").html("0 of 0"),$.trim(r.Records)!==""){n=="Actions"?$(".GridActions").find(".SearchStyle").after(r.Records):n=="Reports"?$(".GridReports").find(".SearchStyle").after(r.Records):n=="Dashboards"?$(".GridDashboards").find(".SearchStyle").after(r.Records):$(".HeaderGridView").find(".SearchStyle").after(r.Records);n==""?($(".HeaderGridView").find(".GridResults").each(function(){var n=$(this);n.children(".GridCell[data-id]").each(function(n){var t=$(this);t.attr("data-priority",$(".MyFields[data-priority]").eq(n).attr("data-priority"));t.attr("data-hidden",$(".MyFields[data-hidden]").eq(n).attr("data-hidden"))})}),ShowHideColumns($(".HeaderGridView").find(".GridResults")),ChangeColumnsOrder($(".HeaderGridView").find(".GridResults")),PageTable("HeaderGridView"),MaxPages=Math.ceil($(".HeaderGridView").find(".GridResults").size()/NumberOfRecordsInPage)):(PageTableTab("Grid"+n),MaxPages=Math.ceil($(".Grid"+n).find(".GridResults").size()/NumberOfRecordsInPage));setTimeout(function(){InitColResizable()},300);MaxPages==1||CurrentPage==MaxPages-1?($(".HeaderGridView").find(".Arrow-Right-Forward").addClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled")):($(".HeaderGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".HeaderGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));$(".HeaderGridView").find(".GridContainer").on("click",".editStyleNew",function(){var t=$(this).attr("data-id"),n=$(this).attr("data-queryurl");$(".NewRecord").length>0&&(n="");DisplayItem(t,n)});$(".HeaderGridView").find(".GridContainer").on("click",".editStyle",function(){if($(".MainPageTitle").attr("data-id")!="PROFILES"){var n=$(this).attr("data-id"),t=$(this).attr("data-queryurl");DisplayItemNew(n,t)}});n!=""&&(u="",$(".chkSelectGrdEdit").change(function(){u=$.trim($(this).closest(".GridResults").find(".Initial").html());UpdateProfileDetail($(this),"Edit",i,n,u)}),$(".chkSelectGrdReadOnly").change(function(){u=$.trim($(this).closest(".GridResults").find(".Initial").html());UpdateProfileDetail($(this),"Read Only",i,n,u)}));$(".MainPageTitle").attr("data-id")!="PORTALUSERS"&&$(".chkSelectGrdActive").change(function(){UpdateUserActive($(this))})}else $(".HeaderGridView").find(".NoResults").show();else $(".HeaderGridView").find(".NoResults").show();$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}function f(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}}}function LoadItemsDetails(){function r(n){var t=jQuery.parseJSON(n);if(Object.keys(t).length>0)if($.trim(t.Records)!==""){$(".DetailsGridView").find(".SearchStyle").after(t.Records);$(".DetailsGridView").find(".GridResults").each(function(){var n=$(this);n.children(".GridCell[data-id]").each(function(n){var t=$(this);t.attr("data-priority",$(".MyDetailsFields[data-priority]").eq(n).attr("data-priority"));t.attr("data-hidden",$(".MyDetailsFields[data-hidden]").eq(n).attr("data-hidden"))})});ShowHideColumns($(".DetailsGridView").find(".GridResults"));ChangeColumnsOrder($(".DetailsGridView").find(".GridResults"));setTimeout(function(){InitColResizable()},300);PageTable("DetailsGridView");MaxPagesDetails=Math.ceil($(".DetailsGridView").find(".GridResults").size()/NumberOfRecordsInPage);MaxPagesDetails==1||CurrentPageDetails==MaxPagesDetails-1?($(".DetailsGridView").find(".Arrow-Right-Forward").addClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").addClass("Disabled")):($(".DetailsGridView").find(".Arrow-Right-Forward").removeClass("Disabled"),$(".DetailsGridView").find(".Arrow-Right-Forward-Last").removeClass("Disabled"));$(".DetailsGridView").find(".GridContainer").on("click",".editStyle",function(){var n=$(this).attr("data-id");DisplayItemDetails(n)})}else $(".DetailsGridView").find(".NoResults").show();else $(".DetailsGridView").find(".NoResults").show();$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0;setOnCufex_Resize()})}function u(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}var i,n,t;AvoidWebServiceRaceCondition=0;AvoidWebServiceRaceCondition==0&&(AvoidWebServiceRaceCondition=1,$(".DetailsGridView").find(".GridResults").remove(),$(".DetailsGridView").find(".NoResults").hide(),isFirstLoad||$(".preloader").fadeIn(),isFirstLoad=!1,i=sAppPath+"WebServices/GetItemsDetails.ashx",n=new FormData,n.append("SearchQuery",SearchQueryDetails),n.append("SearchTable",$(".MainPageTitle").attr("data-id")),n.append("Facility",$(".NewHeaderRecord").find(".InputFacility").val()),$(".MainPageTitle").attr("data-id")=="Warehouse_PO"?t=$(".NewHeaderRecord").find(".InputPOKey").val():$(".MainPageTitle").attr("data-id")=="Warehouse_ASN"?t=$(".NewHeaderRecord").find(".InputReceiptKey").val():$(".MainPageTitle").attr("data-id")=="Warehouse_SO"?t=$(".NewHeaderRecord").find(".InputOrderKey").val():$(".MainPageTitle").attr("data-id")=="Warehouse_OrderManagement"&&(t=$(".NewHeaderRecord").find(".InputOrderManagKey").val()),n.append("Key",t),n.append("SortBy",SortByDetails),$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:i+"/GetMore",success:r,error:u}))}function DisplayDropDowns(){function i(n){var t=jQuery.parseJSON(n),r,i;Object.keys(t).length>0?$.trim(t.DropDownFields)!=""&&(r=t.DropDownFields,i=r.split(";;;"),$.each(i,function(n){var f="",t="",r=i[n].split(":::"),u;if(r.length>0&&(t=".Input"+$.trim(r[0])),r.length>1&&(f=r[1]),$(t).is("select")){if($(t).empty(),$.trim(f)!=="")for(u=f.split(","),n=0;n<u.length;n++)$(t).append("<option value='"+u[n]+"' >"+u[n]+"<\/option>");$(t).trigger("chosen:updated")}})):console.log("Couldn't Display Drop Downs");$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}function r(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var t=sAppPath+"WebServices/DisplayDropDowns.ashx",n=new FormData;n.append("SearchTable",$(".MainPageTitle").attr("data-id"));$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:t+"/DisplayDropDown",success:i,error:r})}}function AutoPostBack(n){function r(t){var i=jQuery.parseJSON(t),u=!0,e,r;if(Object.keys(i).length>0)if(i.DropDownFields.indexOf("Error")>=0)u=!1,setTimeout(function(){swal({title:"Load Items",text:i.DropDownFields,type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1});$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0;IsAutoPostBack=!1})},500);else{var o=i.DropDownFields,f=o.split(";;;"),s=$(".HeaderGridView:visible").length>0?$(".RecordHeader"):$(".NewHeaderRecord");$.each(f,function(n){var u="",t="",i=f[n].split(":::"),r;if(i.length>0&&(t=s.find(".Input"+$.trim(i[0]))),i.length>1&&(u=i[1]),t.is("select")){if(t.empty(),$.trim(u)!=="")for(r=u.split(","),n=0;n<r.length;n++)t.append("<option value='"+r[n]+"' >"+r[n]+"<\/option>");t.trigger("chosen:updated")}});e=i.DropDownDetailsFields;r=e.split(";;;");$.each(r,function(n){var i="",t="",u=r[n].split(":::"),f;if(u.length>0&&(t=".InputDetails"+$.trim(u[0])),u.length>1&&(i=u[1]),$(".HeaderGridView:visible").length>0)t=$(".RecordsContainer_Inside").find(t),$(".RecordsContainer_Inside").each(function(r){if(t.eq(r).is("select")){if(t.eq(r).empty(),$.trim(i)!==""){var u=i.split(",");for(n=0;n<u.length;n++)t.eq(r).append("<option value='"+u[n]+"' >"+u[n]+"<\/option>")}t.eq(r).trigger("chosen:updated")}});else if(t=$(".NewDetailRecord").find(t),t.is("select")){if(t.empty(),$.trim(i)!=="")for(f=i.split(","),n=0;n<f.length;n++)t.append("<option value='"+f[n]+"' >"+f[n]+"<\/option>");t.trigger("chosen:updated")}})}else console.log("Couldn't Display Drop Downs");u&&setTimeout(function(){$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0;IsAutoPostBack=!1})},500);$(".MainPageTitle").attr("data-id")=="SKUCATALOGUE"&&n!=""&&console.log("Display Sku DropDown API End Time: "+GetTime())}function u(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0;IsAutoPostBack=!1})}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){IsAutoPostBack=!0;AvoidWebServiceRaceCondition=1;$(".MainPageTitle").attr("data-id")=="SKUCATALOGUE"&&n!=""&&(console.log("Display Sku DropDown API Start Time: "+GetTime()),$(".preloader").fadeIn());var i=sAppPath+"WebServices/AutoPostBackDropDowns.ashx",t=new FormData;t.append("SearchTable",$(".MainPageTitle").attr("data-id"));t.append("MyValue",n);$.ajax({type:"POST",contentType:!1,processData:!1,data:t,url:i+"/AutoPostBack",success:r,error:u})}}function AutoPostBackDetails(n,t){function u(t){var r=jQuery.parseJSON(t),u,i;Object.keys(r).length>0?(u=r.DropDownFields,i=u.split(";;;"),$.each(i,function(t){var e="",r="",u=i[t].split(":::"),f;if(u.length>0&&(r=n.find(".InputDetails"+$.trim(u[0]))),u.length>1&&(e=u[1]),$(r).is("select")){if($(r).empty(),$.trim(e)!=="")for(f=e.split(","),t=0;t<f.length;t++)$(r).append("<option value='"+f[t]+"' >"+f[t]+"<\/option>");$(r).trigger("chosen:updated")}})):console.log("Couldn't Display Drop Downs");AvoidWebServiceRaceCondition=0;IsAutoPostBackDetails=!1}function f(n){console.log(n.error);AvoidWebServiceRaceCondition=0;IsAutoPostBackDetails=!1}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;IsAutoPostBackDetails=!0;var r=sAppPath+"WebServices/AutoPostBackDetailsDropDowns.ashx",i=new FormData;i.append("SearchTable",$(".MainPageTitle").attr("data-id"));i.append("MyFacility",$(".InputFacility").val());i.append("MyValue",t);$.ajax({type:"POST",contentType:!1,processData:!1,data:i,url:r+"/AutoPostBack",success:u,error:f})}}function GetSkuDropDown(n,t,i,r){if(n.length>0){if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var f=sAppPath+"WebServices/SearchDropDowns.ashx",u=new FormData;u.append("SearchTable",$(".MainPageTitle").attr("data-id"));u.append("MyFacility",t);u.append("MyOwner",i);$.ajax({type:"POST",contentType:!1,processData:!1,data:u,url:f+"/Search",success:e,error:o})}function e(t){var i=jQuery.parseJSON(t),f,u;Object.keys(i).length>0?$.trim(i.DropDownFields)!=""&&(f=i.DropDownFields,u=f.split(";;;"),$.each(u,function(t){var e="",i=n,o=u[t].split(":::"),f;if(o.length>1&&(e=o[1]),$(i).is("select")&&$(i).val()==""){if($(i).empty(),$.trim(e)!=="")for(f=e.split(","),t=0;t<f.length;t++)$(i).append("<option value='"+f[t]+"' >"+f[t]+"<\/option>");r!=""&&$(i).val(r);$(i).trigger("chosen:updated")}})):console.log("Couldn't Load Items");!0&&$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}function o(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}}}function SetPriceAndCurrency(){function f(n){var i=jQuery.parseJSON(n),r,t;Object.keys(i).length>0?(r=i.Fields,t=r.split(";;;"),$.each(t,function(n){var u="",i="",r=t[n].split(":::");r.length>0&&(i=".InputDetails"+$.trim(r[0]));r.length>1&&(u=r[1].split("~~~"));$(".HeaderGridView:visible").length>0?(i=$(".RecordsContainer_Inside").find(i),$(".RecordsContainer_Inside").each(function(n){i.eq(n).val(u[n])})):(i=$(".NewDetailRecord").find(i),i.val(u[0]))})):console.log("Couldn't Set Price and Currency");AvoidWebServiceRaceCondition=0}function e(n){console.log(n.error);AvoidWebServiceRaceCondition=0}var u,n;if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var t="",i="",r="";$(".RecordsContainer_Inside:visible").length>0?(i=$(".RecordHeader").find(".InputStorerKey").val(),r=$(".RecordHeader").find(".InputConsigneeKey").val(),$(".RecordsContainer_Inside:visible").find(".InputDetailsSku").each(function(n){t+=(n>0?",":"")+"'"+$(this).val()+"'"})):(i=$(".NewHeaderRecord").find(".InputStorerKey").val(),r=$(".NewHeaderRecord").find(".InputConsigneeKey").val(),t="'"+$(".NewDetailRecord").find(".InputDetailsSku").val()+"'");u=sAppPath+"WebServices/FetchPriceCurrency.ashx";n=new FormData;n.append("SearchTable",$(".MainPageTitle").attr("data-id"));n.append("MyOwner",i);n.append("MyConsignee",r);n.append("MyItems",t);$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:u+"/FetchData",success:f,error:e})}}function ExecuteAction(n,t){function u(n){var t=jQuery.parseJSON(n),i=!0;Object.keys(t).length>0?$.trim(t.Result)!==""&&(i=!1,swal({title:"Action",text:t.Result.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1}),$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})):console.log("Couldn't Execute Action");i&&(AvoidWebServiceRaceCondition=0,$(".BackHeader").trigger("click"),$(".HeaderGridView").mCustomScrollbar("scrollTo","first"),$(".HeaderGridView").mCustomScrollbar("update"),isFirstLoad=!0,LoadItems())}function f(n){console.log(n.error);$(".preloader").fadeOut(300,function(){AvoidWebServiceRaceCondition=0})}if(AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;$(".preloader").fadeIn();var r=sAppPath+"WebServices/ActionButtons.ashx",i=new FormData;i.append("SearchTable",$(".MainPageTitle").attr("data-id"));i.append("ActionID",t);i.append("MyItems",n);$.ajax({type:"POST",contentType:!1,processData:!1,data:i,url:r+"/ExecuteAction",success:u,error:f})}}function UpdateProfileDetail(n,t,i,r,u){function o(i){var r=jQuery.parseJSON(i),u=!0;Object.keys(r).length>0?r.Error!=null?(u=!1,swal({title:"Update",text:r.Error.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1}),AvoidWebServiceRaceCondition=0):t=="Edit"?n.closest(".GridResults").find(".chkSelectGrdReadOnly").prop("checked",!n.is(":checked")):t=="Read Only"&&n.closest(".GridResults").find(".chkSelectGrdEdit").prop("checked",!n.is(":checked")):console.log("Couldn't Update Permission");u&&(AvoidWebServiceRaceCondition=0)}function s(n){console.log(n.error);AvoidWebServiceRaceCondition=0}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var e=sAppPath+"WebServices/UpdateProfileDetail.ashx",f=new FormData;f.append("QueryUrlStr",i);f.append("TabName",r);f.append("ActionName",u);t=="Edit"?(f.append("Edit",n.is(":checked")),f.append("ReadOnly",!n.is(":checked"))):t=="Read Only"&&(f.append("Edit",!n.is(":checked")),f.append("ReadOnly",n.is(":checked")));$.ajax({type:"POST",contentType:!1,processData:!1,data:f,url:e+"/Update",success:o,error:s})}}function UpdateUserActive(n){function r(t){var i=jQuery.parseJSON(t),r=!0;Object.keys(i).length>0?i.Error!=null?(r=!1,swal({title:"Update",text:i.Error.replace(/<br\s*\/?>/gim,"\n"),type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1}),AvoidWebServiceRaceCondition=0):(n.closest(".GridResults").find(".chkSelectGrdActive").prop("checked",n.is(":checked")),$(".RecordHeader").find(".InputActive").val(n.is(":checked")?1:0)):console.log("Couldn't Update User Active");r&&(AvoidWebServiceRaceCondition=0)}function u(n){console.log(n.error);AvoidWebServiceRaceCondition=0}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var i=sAppPath+"WebServices/UpdateUserActive.ashx",t=new FormData;t.append("MyID",n.data("id"));t.append("Active",n.is(":checked"));$.ajax({type:"POST",contentType:!1,processData:!1,data:t,url:i+"/Update",success:r,error:u})}}function GetUserConfiguration(){function i(n){var t=jQuery.parseJSON(n);if(Object.keys(t).length>0){if(t.ColumnsNames!=""){var i=t.ColumnsNames.split(","),r=t.ColumnsPriorities.split(","),f=t.ColumnsHidden.split(","),e=t.ColumnsWidthes.split(","),u=t.GridTypes.split(","),o=t.MenuOpen=="0"?500:0;setTimeout(function(){for(var s,p,w,v=0,y=0,t,n=0;n<i.length;n++)if(s=e[n],u[n]=="Header"?(t=$(".HeaderGridView"),v+=parseFloat(s)):(t=$(".DetailsGridView"),y+=parseFloat(s)),r[n]!="0"){var h=i[n],c=r[n],o=f[n]=="0"?"false":"true",a=t.find(".GridAdjust").children(".GridCell[data-id='"+h+"']"),l=a.index();a.attr("data-priority",c);a.outerWidth(s);a.attr("data-hidden",o);u[n]=="Header"?($(".MyFields[value='"+h+"']").attr("data-priority",c),$(".MyFields[value='"+h+"']").attr("data-hidden",o)):($(".MyDetailsFields[value='"+h+"']").attr("data-priority",c),$(".MyDetailsFields[value='"+h+"']").attr("data-hidden",o));t.find(".SearchStyle").children(".GridCell").eq(l).attr("data-priority",c);t.find(".SearchStyle").children(".GridCell").eq(l).attr("data-hidden",o);t.find(".NoResults").children(".GridCell").eq(l).attr("data-hidden",o);t.find(".GridResults").each(function(){$(this).children(".GridCell").eq(l).attr("data-hidden",o);$(this).children(".GridCell").eq(l).attr("data-priority",c)})}else t.find(".GridAdjust").children(".GridCell").eq(n).outerWidth(s);ShowHideColumns($(".HeaderGridView").find(".GridRow"));ChangeColumnsOrder($(".HeaderGridView").find(".GridRow"));ShowHideColumns($(".DetailsGridView").find(".GridRow"));ChangeColumnsOrder($(".DetailsGridView").find(".GridRow"));$(".HeaderGridView").find(".GridRow").not(".NoResults").each(function(){var n=$(this).children(".GridCell[data-priority]");n.removeClass("borderRight0");n.eq(n.length-1).addClass("borderRight0")});$(".DetailsGridView").find(".GridRow").not(".NoResults").each(function(){var n=$(this).children(".GridCell[data-priority]");n.removeClass("borderRight0");n.eq(n.length-1).addClass("borderRight0")});p=$(".HeaderGridView").find(".GridContainer").data("resizemode")=="overflow";w=$(".DetailsGridView").find(".GridContainer").data("resizemode")=="overflow";setTimeout(function(){p&&$(".HeaderGridView").find(".mCSB_container").width(v);w&&$(".DetailsGridView").find(".mCSB_container").width(y)},100)},o)}}else console.log("Couldn't Get User Configuration");AvoidWebServiceRaceCondition=0;setTimeout(function(){InitColResizable()},500)}function r(n){console.log(n.error);AvoidWebServiceRaceCondition=0}if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){$(".DetailsGridView").find(".mCSB_container").css({left:0});$(".DetailsGridView").find(".mCSB_dragger").css({left:0});AvoidWebServiceRaceCondition=1;var t=sAppPath+"WebServices/UserConfiguration.ashx",n=new FormData;n.append("ActionType","get");n.append("SearchTable",$(".MainPageTitle").length>0?$(".MainPageTitle").attr("data-id"):"");$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:t+"/UserConfigurationAction",success:i,error:r})}}function SetUserConfigution(){function o(n){var t=jQuery.parseJSON(n);Object.keys(t).length>0?t.Error!=null&&(swal({title:"Update",text:t.Error,type:"error",confirmButtonColor:$(".AlertconfirmButtonColor").val(),showCancelButton:!1}),AvoidWebServiceRaceCondition=0):console.log("Couldn't Set User Configuration");setTimeout(function(){AvoidWebServiceRaceCondition=0;$(".preloader").fadeOut()},300)}function s(n){console.log(n.error);setTimeout(function(){AvoidWebServiceRaceCondition=0;$(".preloader").fadeOut()},300)}var e,n;if(AvoidWebServiceRaceCondition=0,AvoidWebServiceRaceCondition==0){AvoidWebServiceRaceCondition=1;var t="",i="",f="",r="",u="";$(".GridAdjust").length>0&&$(".GridAdjust").children(".GridCell").each(function(n){var e=$(this);u+=e.closest(".HeaderGridView").length>0?"Header,":"Detail,";e.data("id")==null?(t+=n.toString()+",",i+="0,",r+="0,"):(t+=e.data("id")+",",i+=(e.data("priority")==null?"500":e.data("priority"))+",",r+=(e.attr("data-hidden")=="true"?"1":"0")+",");f+=e.outerWidth()+","});e=sAppPath+"WebServices/UserConfiguration.ashx";n=new FormData;n.append("ActionType","set");n.append("SearchTable",$(".MainPageTitle").length>0?$(".MainPageTitle").attr("data-id"):"");n.append("MenuOpen",$(".MenuPin").hasClass("Pinned")?1:0);n.append("ColumnsNames",t.slice(0,-1));n.append("ColumnsPriorities",i.slice(0,-1));n.append("ColumnsWidthes",f.slice(0,-1));n.append("ColumnsHidden",r.slice(0,-1));n.append("GridTypes",u.slice(0,-1));$.ajax({type:"POST",contentType:!1,processData:!1,data:n,url:e+"/UserConfigurationAction",success:o,error:s})}}function SetScrolling(){$(".content_3").mCustomScrollbar({updateOnContentResize:!0,scrollButtons:{enable:!1},axis:"x",theme:"dark"});$(".content_4").mCustomScrollbar({updateOnContentResize:!0,scrollButtons:{enable:!1},axis:"y",theme:"dark",scrollInertia:100})}function OpenMenu(){$(".widthMenu:visible").length>0&&NtorKermelElraceCondition==0&&(NtorKermelElraceCondition=1,ClearConfigTimer(),MenuClosed=!1,$(".widthMenu,.MenuContainer,.widthContent").removeClass("Closed"),$(".AllMenuItems").hide(),$("table.u-marginAuto").fadeOut(),setTimeout(function(){$(".MainLogoContainer,.MenuItemName,.MenuSubItem,.MenuSubSubItem,.MenuItemStyleSel,.u-pl-xs-20,.u-pb-xs-30").removeClass("Closed");$(".OpenMenu").addClass("Closed");$(".AllMenuItems").fadeIn();setOnCufex_Resize();$("table.u-marginAuto").fadeIn();InitColResizable();SetConfigTimer();NtorKermelElraceCondition=0},300))}function CloseMenu(n){$(".widthMenu:visible").length>0&&NtorKermelElraceCondition==0&&(NtorKermelElraceCondition=1,ClearConfigTimer(),MenuClosed=!0,$(".MainLogoContainer,.MenuItemName,.MenuSubItem,.MenuSubSubItem,.MenuItemStyleSel,.u-pl-xs-20,.u-pb-xs-30,.widthMenu,.MenuContainer,.widthContent").addClass("Closed"),$(".OpenMenu").removeClass("Closed"),$(".MenuPin").removeClass("Pinned"),$("table.u-marginAuto").fadeOut(),setTimeout(function(){setOnCufex_Resize();$("table.u-marginAuto").fadeIn();setTimeout(function(){InitColResizable()},100);n&&(setTimeout(function(){setOnCufex_Resize()},100),SetConfigTimer());NtorKermelElraceCondition=0},300))}function InitColResizable(){var n,t;if($(".MainPageTitle").attr("data-id")!="PROFILEDETAIL"){n=$(".HeaderGridView:visible").length>0?$(".HeaderGridView"):$(".DetailsGridView");n.find(".GridContainer").removeClass("JCLRFlex").removeClass("JColResizer");n.find(".GridContainer").removeAttr("id");n.find(".JCLRgrips").remove();t=n.find(".GridContainer").data("resizemode");n.find(".GridContainer").colResizable({liveDrag:!0,resizeMode:t,onDrag:r,onResize:i});function i(){$(".GridContainer").data("resizemode")=="overflow"&&($(".HeaderGridView:visible").length>0?$(".HeaderGridView").mCustomScrollbar("update"):$(".DetailsGridView").mCustomScrollbar("update"));SetConfigTimer()}function r(){ClearConfigTimer()}}}function SetConfigTimer(){ConfigTimer=setTimeout(function(){SetUserConfigution()},3e3)}function ClearConfigTimer(){clearTimeout(ConfigTimer)}function SetMenuFunctionality(){$(".openProfMenu").unbind("click").bind("click",function(n){n.preventDefault();n.stopPropagation();$(".ProfileData").stop(!0,!0).slideToggle(200);$(".iconOpen").stop(!0,!0).toggleClass("rotate180")});$(".widthMenu").mouseenter(function(n){n.stopPropagation();MenuClosed&&OpenMenu()});$(".widthMenu").mouseleave(function(n){n.stopPropagation();$(".MenuPin").hasClass("Pinned")||MenuClosed||CloseMenu(!1)});$(".MenuItemStyle,.MenuSubItem,.MenuSubSubItem ").attr({tabindex:"-1"});$(".MenuItemStyle").unbind("click").click(function(n){var t;NtorKermelElraceCondition==0&&($(".MenuItemName").is(":visible")?(t=$(this),t.find(".MenuArrow").hasClass("Opened")?t.find(".MenuArrow").removeClass("Opened"):t.find(".MenuArrow").addClass("Opened"),$(".MenuItemStyleSel").not(t).find(".MenuArrow").removeClass("Opened"),$(".MenuItemStyleSel").not(t).removeClass("MenuItemStyleSel").animate({height:"55px"},200),t.hasClass("MenuItemStyleSel")?t.removeClass("MenuItemStyleSel").animate({height:"55px"},200):t.addClass("MenuItemStyleSel").css({height:"55px"}).animate({height:parseInt(t.children("div").height())+20+"px"},200),setTimeout(function(){$(".MenuItemStyleSel").each(function(){$(this).animate({height:parseInt($(this).children("div").height())+20+"px"})});$(".GoToChildOnClick").unbind(myClickEvent).bind(myClickEvent,function(){})},200)):(OpenMenu(),t=$(this),t.find(".MenuArrow").addClass("Opened"),$(".MenuItemStyleSel").not(t).find(".MenuArrow").removeClass("Opened"),setTimeout(function(){$(".MenuItemStyleSel").not(t).removeClass("MenuItemStyleSel").height("55px");t.addClass("MenuItemStyleSel").css({height:"55px"}).animate({height:parseInt(t.children("div").height())+20+"px"},200)},300)));n.stopPropagation()});$(".MenuSubItem").unbind("click").click(function(n){if(NtorKermelElraceCondition==0){var t=$(this);$(".MenuSubItemSel").not(t).removeClass("MenuSubItemSel").animate({height:"22px"},200);t.hasClass("MenuSubItemSel")?t.removeClass("MenuSubItemSel").animate({height:"22px"},200):t.addClass("MenuSubItemSel").css({height:"22px"}).animate({height:parseInt(t.children("div").height())+"px"},200);setTimeout(function(){$(".MenuItemStyleSel").each(function(){$(this).animate({height:parseInt($(this).children("div").height())+20+"px"})})},200)}n.stopPropagation()});$(".DivMenuInLogoResp").unbind("click").click(function(){parseInt($(".MenuItemsContainer").css("margin-top"))==0?$(".MenuItemsContainer").stop(!0,!0).animate({"margin-top":"-300%"},600,"easeInCubic"):$(".MenuItemsContainer").stop(!0,!0).animate({"margin-top":"0px"},600,"easeOutCubic")});$(".PinMenu").unbind("click").click(function(){$(".MenuPin").hasClass("Pinned")?CloseMenu(!0):($(".MenuPin").addClass("Pinned"),SetConfigTimer())});$(".OpenMenu").click(function(){MenuClosed?OpenMenu():CloseMenu(!0)})}function MoveTabLine(n){$(".MyTabLine").animate({width:$(".MyTab").eq(n).outerWidth()+"px",left:$(".MyTab").eq(n).offset().left-$(".widthMenu").width()+"px"},200)}function GetTime(){var n=new Date;return n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()}function setOnCufex_Resize(){$(".CufexLogoTD,.addSpacebeforeHeader").css({height:"72px"});$(".BackMenuDiv").css({width:"0px"});$(".MainPageContainer").height($(window).height());$(".BeforeMainPage").css({height:(parseInt($(window).height())-parseInt($(".MainPageDivInside").height()))/2+"px"});SetMasterResize();$(".Cufex_PopUpAttachment").css({top:$(".ImgTxt").height()});$(".Containerbase").length>0&&$(".Containerbase").each(function(){var n=$(this).height(),t=$(this).parent(".AbsoPopup").height();n<t&&$(this).css({top:(t-n)/2+"px"})});$(window).width()<=860&&!MenuClosed&&CloseMenu(!1);$(window).width()<=550?$(".btnSave:visible").length>0?($(".btnDelete").parent("td").css("padding-right","0px"),$(".btnDelete").parent("td").css("margin-bottom","10px"),$(".btnActions").parent("td").css("padding-right","10px"),$(".ActionHiddenButtons").css("right","unset")):($(".btnDelete").parent("td").css("padding-right","10px"),$(".btnDelete").parent("td").css("margin-bottom","0px"),$(".NewRecord").length>0?$(".btnActions").parent("td").css("padding-right","0px"):$(".btnActions").parent("td").css("padding-right","10px"),$(".ActionHiddenButtons").css("right","0")):($(".btnDelete").parent("td").css("padding-right","0px"),$(".ActionHiddenButtons").css("right","0"));$(".MyTab").length>0&&MoveTabLine($(".MyTab.Active").index());$(".content_3").mCustomScrollbar("update");$(".content_3").width(0);$(".content_3").width($(".MainHeader").width());$(".mCSB_container").width($(".MainHeader").width());$(".content_4").mCustomScrollbar("update")}var AvoidWebServiceRaceCondition=0,NtorKermelElraceCondition=0,MenuClosed=!1,jcrop_api,CurrentPage=0,CurrentPageDetails=0,MaxPages=1,MaxPagesDetails=1,SearchQuery="",SearchQueryDetails="",SortBy="id desc",SortByDetails=SortBy,isFirstLoad=!0,NumberOfRecordsInPage=0,NumberOfRecordsInPageDetails=0,prm,IsAutoPostBack,IsAutoPostBackDetails,ConfigTimer;$(document).ready(function(){SetDefaults()});prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_endRequest(function(){SetDefaults()});$(window).load(function(){setOnCufex_Resize()});IsAutoPostBack=!1;IsAutoPostBackDetails=!1;