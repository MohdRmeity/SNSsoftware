(function(n){"use strict";function t(){var n=null,t;return window.getSelection?(t=window.getSelection(),t.rangeCount&&(n=t.getRangeAt(0).commonAncestorContainer,n.nodeType!=1&&(n=n.parentNode))):(t=document.selection)&&t.type!="Control"&&(n=t.createRange().parentElement()),n}function i(n){var t=document.createElement("DIV");return t.innerHTML=n,t.textContent||t.innerText||""}function r(){var t=null,i,r,u;document.selection?t=document.selection.createRange().parentElement():(i=window.getSelection(),i.rangeCount>0&&(t=i.getRangeAt(0).startContainer.parentNode));r=n(t).contents().closest("pre").length;u=n(t).contents().closest("code").length;r&&u?n(t).contents().unwrap("code").unwrap("pre"):r?n(t).contents().unwrap("pre"):u&&n(t).contents().unwrap("code")}n.extend(!0,n.trumbowyg,{langs:{en:{preformatted:"Code sample <pre>"},fr:{preformatted:"Exemple de code"},it:{preformatted:"Codice <pre>"}},opts:{btnsDef:{preformatted:{func:function(n,u){var e=String(u.doc.getSelection()),f;if(e.replace(/\s/g,"")!=="")try{if(f=t().tagName.toLowerCase(),f=="code"||f=="pre")return r();u.execCmd("insertHTML","<pre><code>"+i(e)+"<\/code><\/pre>")}catch(o){}},ico:"insertCode"}}}})})(jQuery);
//# sourceMappingURL=trumbowyg.preformatted.min.js.map
